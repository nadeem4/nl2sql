{
  "$defs": {
    "DatasourceProfile": {
      "properties": {
        "id": {
          "title": "Id",
          "type": "string"
        },
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Description"
        },
        "connection": {
          "discriminator": {
            "mapping": {
              "mssql": "#/$defs/MssqlConnection",
              "mysql": "#/$defs/MysqlConnection",
              "oracle": "#/$defs/OracleConnection",
              "postgres": "#/$defs/PostgresConnection",
              "postgresql": "#/$defs/PostgresConnection",
              "sqlite": "#/$defs/SqliteConnection",
              "sqlserver": "#/$defs/MssqlConnection"
            },
            "propertyName": "type"
          },
          "oneOf": [
            {
              "$ref": "#/$defs/PostgresConnection"
            },
            {
              "$ref": "#/$defs/MysqlConnection"
            },
            {
              "$ref": "#/$defs/MssqlConnection"
            },
            {
              "$ref": "#/$defs/OracleConnection"
            },
            {
              "$ref": "#/$defs/SqliteConnection"
            }
          ],
          "title": "Connection"
        },
        "options": {
          "additionalProperties": true,
          "title": "Options",
          "type": "object"
        },
        "secrets": {
          "additionalProperties": {
            "type": "string"
          },
          "title": "Secrets",
          "type": "object"
        },
        "tags": {
          "additionalProperties": true,
          "title": "Tags",
          "type": "object"
        },
        "feature_flags": {
          "$ref": "#/$defs/FeatureFlags"
        },
        "statement_timeout_ms": {
          "default": 8000,
          "title": "Statement Timeout Ms",
          "type": "integer"
        },
        "row_limit": {
          "default": 1000,
          "title": "Row Limit",
          "type": "integer"
        },
        "max_bytes": {
          "default": 10485760,
          "title": "Max Bytes",
          "type": "integer"
        },
        "date_format": {
          "default": "ISO 8601",
          "title": "Date Format",
          "type": "string"
        }
      },
      "required": [
        "id",
        "connection"
      ],
      "title": "DatasourceProfile",
      "type": "object"
    },
    "FeatureFlags": {
      "properties": {
        "allow_generate_writes": {
          "default": false,
          "title": "Allow Generate Writes",
          "type": "boolean"
        },
        "allow_cross_db": {
          "default": false,
          "title": "Allow Cross Db",
          "type": "boolean"
        },
        "supports_dry_run": {
          "default": false,
          "title": "Supports Dry Run",
          "type": "boolean"
        },
        "supports_estimated_cost": {
          "default": false,
          "title": "Supports Estimated Cost",
          "type": "boolean"
        },
        "sample_rows_enabled": {
          "default": true,
          "title": "Sample Rows Enabled",
          "type": "boolean"
        }
      },
      "title": "FeatureFlags",
      "type": "object"
    },
    "MssqlConnection": {
      "additionalProperties": false,
      "properties": {
        "options": {
          "additionalProperties": true,
          "description": "Additional query parameters (e.g. sslmode, charset).",
          "title": "Options",
          "type": "object"
        },
        "type": {
          "default": "mssql",
          "enum": [
            "mssql",
            "sqlserver"
          ],
          "title": "Type",
          "type": "string"
        },
        "host": {
          "title": "Host",
          "type": "string"
        },
        "port": {
          "default": 1433,
          "title": "Port",
          "type": "integer"
        },
        "user": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "User"
        },
        "password": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Password"
        },
        "database": {
          "title": "Database",
          "type": "string"
        },
        "driver": {
          "default": "ODBC Driver 17 for SQL Server",
          "title": "Driver",
          "type": "string"
        },
        "authentication": {
          "default": "sql",
          "enum": [
            "sql",
            "windows",
            "azure_msi",
            "azure_sp"
          ],
          "title": "Authentication",
          "type": "string"
        },
        "trusted_connection": {
          "default": false,
          "title": "Trusted Connection",
          "type": "boolean"
        },
        "client_id": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Client Id"
        },
        "client_secret": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Client Secret"
        },
        "tenant_id": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Tenant Id"
        },
        "encrypt": {
          "default": true,
          "title": "Encrypt",
          "type": "boolean"
        },
        "trust_server_certificate": {
          "default": false,
          "title": "Trust Server Certificate",
          "type": "boolean"
        }
      },
      "required": [
        "host",
        "database"
      ],
      "title": "MssqlConnection",
      "type": "object"
    },
    "MysqlConnection": {
      "additionalProperties": false,
      "properties": {
        "options": {
          "additionalProperties": true,
          "description": "Additional query parameters (e.g. sslmode, charset).",
          "title": "Options",
          "type": "object"
        },
        "type": {
          "const": "mysql",
          "default": "mysql",
          "title": "Type",
          "type": "string"
        },
        "host": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": "localhost",
          "title": "Host"
        },
        "port": {
          "default": 3306,
          "title": "Port",
          "type": "integer"
        },
        "user": {
          "title": "User",
          "type": "string"
        },
        "password": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Password"
        },
        "database": {
          "title": "Database",
          "type": "string"
        },
        "unix_socket": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Unix Socket"
        }
      },
      "required": [
        "user",
        "database"
      ],
      "title": "MysqlConnection",
      "type": "object"
    },
    "OracleConnection": {
      "additionalProperties": false,
      "properties": {
        "options": {
          "additionalProperties": true,
          "description": "Additional query parameters (e.g. sslmode, charset).",
          "title": "Options",
          "type": "object"
        },
        "type": {
          "const": "oracle",
          "default": "oracle",
          "title": "Type",
          "type": "string"
        },
        "host": {
          "title": "Host",
          "type": "string"
        },
        "port": {
          "default": 1521,
          "title": "Port",
          "type": "integer"
        },
        "user": {
          "title": "User",
          "type": "string"
        },
        "password": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Password"
        },
        "service_name": {
          "title": "Service Name",
          "type": "string"
        }
      },
      "required": [
        "host",
        "user",
        "service_name"
      ],
      "title": "OracleConnection",
      "type": "object"
    },
    "PostgresConnection": {
      "additionalProperties": false,
      "properties": {
        "options": {
          "additionalProperties": true,
          "description": "Additional query parameters (e.g. sslmode, charset).",
          "title": "Options",
          "type": "object"
        },
        "type": {
          "default": "postgres",
          "enum": [
            "postgres",
            "postgresql"
          ],
          "title": "Type",
          "type": "string"
        },
        "host": {
          "title": "Host",
          "type": "string"
        },
        "port": {
          "default": 5432,
          "title": "Port",
          "type": "integer"
        },
        "user": {
          "title": "User",
          "type": "string"
        },
        "password": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Password"
        },
        "database": {
          "title": "Database",
          "type": "string"
        },
        "auth_type": {
          "default": "password",
          "enum": [
            "password",
            "aws_iam",
            "gcp_iam"
          ],
          "title": "Auth Type",
          "type": "string"
        },
        "ssl_mode": {
          "default": "prefer",
          "enum": [
            "disable",
            "allow",
            "prefer",
            "require",
            "verify-ca",
            "verify-full"
          ],
          "title": "Ssl Mode",
          "type": "string"
        },
        "ssl_root_cert": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Ssl Root Cert"
        }
      },
      "required": [
        "host",
        "user",
        "database"
      ],
      "title": "PostgresConnection",
      "type": "object"
    },
    "SqliteConnection": {
      "additionalProperties": false,
      "properties": {
        "options": {
          "additionalProperties": true,
          "description": "Additional query parameters (e.g. sslmode, charset).",
          "title": "Options",
          "type": "object"
        },
        "type": {
          "const": "sqlite",
          "default": "sqlite",
          "title": "Type",
          "type": "string"
        },
        "database": {
          "title": "Database",
          "type": "string"
        }
      },
      "required": [
        "database"
      ],
      "title": "SqliteConnection",
      "type": "object"
    }
  },
  "properties": {
    "version": {
      "default": 2,
      "title": "Version",
      "type": "integer"
    },
    "datasources": {
      "items": {
        "$ref": "#/$defs/DatasourceProfile"
      },
      "title": "Datasources",
      "type": "array"
    }
  },
  "required": [
    "datasources"
  ],
  "title": "DatasourceListV2",
  "type": "object"
}